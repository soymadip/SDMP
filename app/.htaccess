# Enable URL rewriting
RewriteEngine On

# Set the 404 error document - updated to point to the file in the src directory
ErrorDocument 404 /src/404.php

# Redirect trailing slashes if not a directory
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [L,R=301]

# Don't rewrite for existing files or directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Optional: Rewrite clean URLs (if you implement routing)
# RewriteRule ^(.*)$ index.php?path=$1 [QSA,L]

# Do not redirect again after the error document is processed
RewriteCond %{ENV:REDIRECT_STATUS} ^$
